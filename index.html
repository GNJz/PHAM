<!DOCTYPE html>
<html lang="ko">
<head>
  <!-- Google tag (gtag.js) — 필요 시 실제 ID로 교체 -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXX"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date()); gtag('config', 'G-XXXXXXX');
  </script>

  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>PHAM</title>

  <!-- 기존 스타일 유지 -->
  <link rel="stylesheet" href="style.css" />

  <style>
    /* 최소 보강 (기존 스타일에 영향 안 주는 범위) */
    ul, li { list-style: none; margin: 0; padding: 0; }
    *::marker { content: ""; }

    :root { --menu-width: 250px; }

    .menu-btn{
      position: fixed; top:20px; left:20px; z-index:1000;
      background:none; border:none; color:#000; font-size:2em; cursor:pointer;
    }
    .side-menu{
      position:fixed; top:0; left:0; width:250px; height:100vh;
      background:rgba(255,255,255,.9);
      padding:60px 20px 20px; box-sizing:border-box;
      transform:translateX(-100%); transition:transform .3s ease; z-index:2000;
      border-right:1px solid #ccc; overflow-y:auto; -webkit-overflow-scrolling:touch;
    }
    .side-menu.active{ transform:translateX(0); }
    .submenu{ padding-left:15px; max-height:0; overflow:hidden; transition:max-height .3s; }
    .submenu.show{ max-height:500px; }
    .submenu-toggle, .menu-content a{ display:block; padding:13px 0; color:#000; text-decoration:none; background:none; border:none; text-align:left; width:100%; cursor:pointer; }

    .logo-center{
      position:fixed; top:50%; left:50%; transform:translate(-50%,-50%);
      z-index:50; pointer-events:none;
    }
    .logo-center img{ width:100%; max-width:500px; height:auto; }

    .content{ display:none; padding:40px; min-height:100vh; box-sizing:border-box; }
    .content.active{ display:block; }

    @media (max-width:800px){
      .side-menu.active .submenu.show{ max-height:9999px; }
      .side-menu{ height:100dvh; padding-bottom:120px; }
      body.menu-open{ overflow:hidden; height:100dvh; }
    }
  </style>
</head>
<body>
  <!-- 메뉴 버튼 -->
  <button class="menu-btn" id="menuBtn" aria-controls="sideMenu" aria-expanded="false" aria-label="메뉴 열기">☰</button>

  <!-- 사이드 메뉴 -->
  <nav class="side-menu" id="sideMenu" aria-label="사이드 내비게이션">
    <div class="menu-content" id="menuContent">
      <a href="#home" data-section="home">Home</a>

      <button class="submenu-toggle" aria-expanded="false">memo</button>
      <ul class="submenu">
        <li><a href="#memo_1" data-section="memo_1">1. 이과 모드</a></li>
        <li><a href="#memo_2" data-section="memo_2">2. 문과 모드</a></li>
        <li><a href="#memo_3" data-section="memo_3">3. 예체능 모드</a></li>
        <li><a href="#memo_4" data-section="memo_4">4. 잡담 모드</a></li>
      </ul>

      <button class="submenu-toggle" aria-expanded="false">KAO : K-pop Art Online</button>
      <ul class="submenu">
        <li><a href="#KAO_2" data-section="iDea">iDea (세계관)</a></li>
        <li><a href="#KAO_3" data-section="SaaS">SaaS (구조)</a></li>
      </ul>

      <a href="#prologue" data-section="prologue" class="spacer-top">프롤로그 prologue</a>
      <a href="#part1" data-section="part1">파트 1 : 의식의 변화</a>
      <a href="#mixtape" data-section="mixtape">mixtape : Runway</a>

      <button class="submenu-toggle" aria-expanded="false">파트 2 : ep - Extended play</button>
      <ul class="submenu">
        <li><a href="#part2_memo" data-section="part2_memo">1. memo - memory</a></li>
        <li><a href="#part2_memory" data-section="part2_memory">2. memory - melody</a></li>
        <li><a href="#part2_rhythm" data-section="part2_rhythm">3. rhythm & flow</a></li>
        <li><a href="#part2_mixtape2" data-section="part2_mixtape2">4. mixtape^2 : Threads</a></li>
        <li><a href="#part2_lost" data-section="part2_lost">5. Lost</a></li>
        <li><a href="#part2_vega" data-section="part2_vega">6. Vega</a></li>
        <li><a href="#part2" data-section="part2">파트 2 전체</a></li>
      </ul>

      <a href="#maze" data-section="maze">DLC : 지옥의 대미궁</a>
      <a href="#rocket" data-section="rocket">single : Rocke+ Spirit</a>

      <button class="submenu-toggle" aria-expanded="false">파트 3 : warpSpace</button>
      <ul class="submenu">
        <li><a href="#part3_qquarts" data-section="part3_qquarts">1. Qquarts co.</a></li>
        <li><a href="#part3_quarkka" data-section="part3_quarkka">2. Quarkka.Rivet</a></li>
        <li><a href="#part3_cto" data-section="part3_cto">3. CTO . Qlode</a></li>
        <li><a href="#part3" data-section="part3">파트 3 전체</a></li>
      </ul>
    </div>
  </nav>

  <!-- 중앙 로고 -->
  <div class="logo-center"><img src="images/pham_logo.jpg" alt="PHAM" /></div>

  <!-- 메인 컨텐츠 섹션(기존 id 그대로 유지) -->
  <main id="pageWrap">
    <div class="content" id="mainContent"></div>
    <section class="content" id="home"></section>

    <section class="content" id="memo_1">이과 메모 초기 텍스트</section>
    <section class="content" id="memo_2">문과 메모 초기 텍스트</section>
    <section class="content" id="memo_3">예체능 메모 초기 텍스트</section>
    <section class="content" id="memo_4">잡담 메모 초기 텍스트</section>

    <section class="content" id="prologue">프롤로그</section>
    <section class="content" id="part1">파트 1 내용</section>
    <section class="content" id="mixtape">믹스테이프</section>
    <section class="content" id="maze">지옥의 대미궁</section>
    <section class="content" id="rocket">로켓 스피릿</section>

    <section class="content" id="part2_memo"><h2>1. memo - memory</h2><p>memo - memory 내용</p></section>
    <section class="content" id="part2_memory"><h2>2. memory - melody</h2><p>memory - melody 내용</p></section>
    <section class="content" id="part2_rhythm"><h2>3. rhythm & flow</h2><p>rhythm & flow 내용</p></section>
    <section class="content" id="part2_mixtape2"><h2>4. mixtape^2 : Threads</h2><p>mixtape^2 : Threads 내용</p></section>
    <section class="content" id="part2_lost"><h2>5. Lost</h2><p>Lost 내용</p></section>
    <section class="content" id="part2_vega"><h2>6. Vega</h2><p>Vega 내용</p></section>

    <section class="content" id="part2">
      <h2>파트 2 : ep - Extended play</h2>
      <div class="part2-content">
        <h3>1. memo - memory</h3><p>memo - memory 내용</p>
        <h3>2. memory - melody</h3><p>memory - melody 내용</p>
        <h3>3. rhythm & flow</h3><p>rhythm & flow 내용</p>
        <h3>4. mixtape^2 : Threads</h3><p>mixtape^2 : Threads 내용</p>
        <h3>5. Lost</h3><p>Lost 내용</p>
        <h3>6. Vega</h3><p>Vega 내용</p>
      </div>
    </section>

    <section class="content" id="KAO">KAO : K-pop Art Online</section>
    <section class="content" id="part3_qquarts"><h2>1. Qquarts co.</h2><p>Qquarts co.</p></section>
    <section class="content" id="part3_quarkka"><h2>2. Quarkka.Rivet</h2><p>Quarkka.Rivet</p></section>
    <section class="content" id="part3_cto"><h2>3. CTO . Qlode</h2><p>CTO . Qlode</p></section>
    <section class="content" id="part3"><h2>파트 3 : warpSpace</h2></section>
  </main>

  <!-- 기존 네비 JS (섹션 전환용) -->
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const body     = document.body;
      const sideMenu = document.getElementById('sideMenu');
      const menuBtn  = document.getElementById('menuBtn');
      const menuContent = document.getElementById('menuContent');
      const logoCenter = document.querySelector('.logo-center');

      function setMenuWidthVar(){
        const w = sideMenu.getBoundingClientRect().width || 250;
        document.documentElement.style.setProperty('--menu-width', w + 'px');
      }
      function updateMenuState(){
        body.classList.toggle('menu-open', sideMenu.classList.contains('active'));
        setMenuWidthVar();
      }
      menuBtn.addEventListener('click', () => {
        sideMenu.classList.toggle('active');
        menuBtn.setAttribute('aria-expanded', String(sideMenu.classList.contains('active')));
        updateMenuState();
      });
      window.addEventListener('resize', () => {
        if (sideMenu.classList.contains('active')) setMenuWidthVar();
      });
      document.querySelectorAll('.submenu-toggle').forEach(btn => {
        btn.addEventListener('click', () => {
          const sub = btn.nextElementSibling;
          if (sub && sub.classList.contains('submenu')) {
            sub.classList.toggle('show');
            const expanded = btn.getAttribute('aria-expanded') === 'true';
            btn.setAttribute('aria-expanded', String(!expanded));
          }
        });
      });

      window.showSection = function(id){
        document.querySelectorAll('.content').forEach(s => s.classList.remove('active'));
        const el = document.getElementById(id);
        if (el) el.classList.add('active');
        logoCenter.style.display = (id === 'home' || !id) ? 'block' : 'none';
        sideMenu.classList.remove('active');
        menuBtn.setAttribute('aria-expanded', 'false');
        updateMenuState();
      };
      menuContent.addEventListener('click', e => {
        const link = e.target.closest('[data-section]');
        if (!link) return;
        e.preventDefault();
        showSection(link.getAttribute('data-section'));
      });

      setMenuWidthVar();
      const hash = decodeURIComponent(location.hash.replace('#',''));
      if (hash && document.getElementById(hash)) showSection(hash); else showSection('home');
    });
  </script>

  <!-- 게시물 시스템(분리된 JS) -->
  <script src="js/posts.js"></script>
</body>
</html>